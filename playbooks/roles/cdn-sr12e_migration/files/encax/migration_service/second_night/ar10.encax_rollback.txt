####GGC-BEGIN###
exit all
configure
    port 5/1/7
        description "[ext,iv-g=ggc,iv-s=cdn_ggc] Google server A"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 5/1/8
        description "[ext,iv-g=ggc,iv-s=cdn_ggc] Google server B"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/7
        description "[ext,iv-g=ggc,iv-s=cdn_ggc] Google server C"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/8
        description "[ext,iv-g=ggc,iv-s=cdn_ggc] Google server D"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    service
        customer 16 create
            description "Google GGC"
        exit
        vpls 220162 customer 16 create
            description "VPLS Interconnect Google Servers"
            allow-ip-int-binding
            stp
                shutdown
            exit
            service-name "vpls220162_cdn-ggc-data"
            sap 5/1/7 create
            exit
            sap 5/1/8 create
            exit
            sap 6/1/7 create
            exit
            sap 6/1/8 create
            exit
            no shutdown
        exit
        ies 220161 customer 16 create
            interface "ies 220161_cdn-ggc" create
		no shutdown
                description "[ext,iv-g=ggc,iv-s=cdn_ggc] Google Servers Gateway IP"
                address 90.223.205.193/26
                cflowd interface
                ipv6
                    address 2A02:C7A:8000:F05::1/64
                exit
                vpls "vpls220162_cdn-ggc-data"
                exit
            exit
            no shutdown
        exit
    exit
    router
        router-advertisement
            interface "ies 220161_cdn-ggc"
                prefix 2A02:C7A:8000:F05::/64
                exit
                no shutdown
exit all
##GGC-END##
##VELOCIX-BEGIN##
configure
    port 1/1/9
        description "[ext,rd=ac1.sky1cax1d1.cdn:Data3,iv-g=moonraker,iv-s=cdn_moonraker]"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 1/1/10
        description "[ext,rd=ac1.sky1cax1d1.cdn:Data4,iv-g=moonraker,iv-s=cdn_moonraker]"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 1/1/11
        description "[ext,rd=ac2.sky1cax1d1.cdn:Data3,iv-g=moonraker,iv-s=cdn_moonraker]"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 1/1/12
        description "[ext,rd=ac2.sky1cax1d1.cdn:Data4,iv-g=moonraker,iv-s=cdn_moonraker]"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    lag 55
        description "[ext,rd=ac1.sky1cax1d1.cdn:LAG,iv-g=moonraker,iv-s=cdn_moonraker]"
        mode access
        port 1/1/9
        port 1/1/10
        lacp active
        no shutdown
    exit
    lag 56
        description "[ext,rd=ac2.sky1cax1d1.cdn:LAG,iv-g=moonraker,iv-s=cdn_moonraker]"
        mode access
        port 1/1/11
        port 1/1/12
        lacp active
        no shutdown
    exit
    service
        customer 30 create
            description "Velocix CDN"
        exit
        vpls 220805 customer 30 create
            description "Moonraker Data Node LAN"
            allow-ip-int-binding
            stp
                shutdown
            exit
            service-name "vpls220805_Moonraker_Data_Node"
            sap lag-55 create
            exit
            sap lag-56 create
            exit
            no shutdown
        exit
        ies 220804 customer 30 create
            interface "ies_220804_moonraker_Data_node" create
		no shutdown
                description "[Moonraker CDN Hardware Data Node]"
                address 90.222.190.129/27
                ipv6
                    address 2A02:C7A:8000:F0B::1/120
                exit
                vpls "vpls220805_Moonraker_Data_Node"
                exit
            exit
            service-name "ies220804-moonraker-data-node"
            no shutdown
        exit
    exit
###VELOCIX-END##
##AANP-BEGIN##
configure
    port 5/1/9
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] Link 1 of LAG 20 to WS-C4900M-te-2-1 Akamai Managed Switch for AANP"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 5/1/10
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] Link 2 of LAG 20 to WS-C4900M-te-2-2 Akamai Managed Switch for AANP"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/9
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] 1 of LAG 21 to Akamai Managed WS-C4900M-te-2-3 for AANP_2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/10
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] 2 of LAG 21 to Akamai Managed WS-C4900M-te-2-4 for AANP_2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    lag 20
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] To WS-C4900M Akamai Managed Switch for AANP"
        mode access
        port 5/1/9
        port 5/1/10
        lacp active
        no shutdown
    exit
    lag 21
        description "[ext,iv-g=aanp,iv-s=cdn_aanp] To WS-C4900M Akamai Managed Switch for AANP_2"
        mode access
        port 6/1/9
        port 6/1/10
        lacp active
        no shutdown
    exit
    service
        customer 20 create
            description "AANP Akamai"
        exit
        ies 220271 customer 20 create
            interface "ies220271_Akamai-AANP_1" create
		no shutdown
                address 2.127.241.0/31
                cflowd interface
                ipv6
                    address 2A02:C7A:8000:F01::1/64
                exit
                sap lag-20 create
                exit
            exit
            service-name "ies220271_Akamai-AANP_1"
            no shutdown
        exit
        ies 220272 customer 20 create
            interface "ies220272_Akamai-AANP_2" create
		no shutdown
                description "[ext,iv-g=aanp,iv-s=cdn_aanp]"
                address 2.127.241.2/31
                cflowd interface
                ipv6
                    address 2A02:C7A:8000:F02::1/64
                exit
                sap lag-21 create
                exit
            exit
            service-name "ies220272_Akamai-AANP_2"
            no shutdown
        exit
    exit
    router
        interface "AANP_OFFNET-LOOPBACK"
            address 90.207.251.218/32
            loopback
            no shutdown
        exit all
##AANP-END##
####MCDN-BEGIN####
exit all
configure
    port 5/1/5
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 3 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 5/1/6
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 4 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/1
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 5 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/2
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 6 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/3
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 7 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/4
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 8 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/5
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 9 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/6
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 10 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/11
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 1 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    port 6/1/12
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] 2 of LAG 41 to Akamai Cisco 3064 port A2 Rack C11 - PDL-2"
        ethernet
            mode access
            mtu 8226
            hold-time up 5
        exit
        no shutdown
    exit
    lag 41
        description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge] To HP2910 Akamai Managed Switch for PDL-2"
        mode access
        port 5/1/5
        port 5/1/6
        port 6/1/1
        port 6/1/2
        port 6/1/3
        port 6/1/4
        port 6/1/5
        port 6/1/6
        port 6/1/11
        port 6/1/12
        lacp active
        no shutdown
    exit
    service
        customer 21 create
            description "PDL Edge"
        exit
        ies 220372 customer 21 create
            interface "ies220372_-PDL-Edge-2" create
                description "[ext,iv-g=PDL_edge,iv-s=cdn_pdl_edge]"
                address 90.223.231.1/26
                cflowd interface
                ipv6
                    address 2A02:C7A:8000:F08::1/64
                exit
                sap lag-41 create
                exit
            exit
            service-name "ies220372_-PDL-Edge-2"
            no shutdown
        exit
    exit
    router
        policy-options
            begin
            prefix-list "CORE-CDN-IPV4-AKAMAI-MCDN-LAN"
                prefix 90.223.231.0/26 exact
                prefix 90.223.242.0/26 exact
            exit
            prefix-list "CORE-CDN-IPV6-AKAMAI-MCDN-LAN"
                prefix 2A02:C7A:8000:F04::/64 exact
                prefix 2A02:C7A:8000:F08::/64 exact
            exit
            community "cdn-encax-akamai-mcdn" members "4589:4" "5607:1002" "4589:14415" "5607:14415" "no-export-subconfed"
            policy-statement "EXPORT-TO-IBGP"
                entry 27
                    description "Akamai MCDN LAN subnets"
                    from
                        protocol direct
                        prefix-list "CORE-CDN-IPV4-AKAMAI-MCDN-LAN"
                    exit
                    action accept
                        community add "cdn-encax-akamai-mcdn"
                        metric set 1000
                        next-hop-self
                    exit
                exit
	    exit
            policy-statement "EXPORT-TO-IBGP6"
                entry 296
                    from
                        protocol direct
                        prefix-list "CORE-CDN-IPV6-AKAMAI-MCDN-LAN"
                    exit
                    to
                        protocol bgp
                    exit
                    action accept
                        community add "cdn-encax-akamai-mcdn"
                        next-hop-self
                    exit
                exit
	    exit
	    commit
exit all
####MCDN-END####